!function e(t,i,n){function r(o,c){if(!i[o]){if(!t[o]){var a="function"==typeof require&&require;if(!c&&a)return a(o,!0);if(s)return s(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var u=i[o]={exports:{}};t[o][0].call(u.exports,(function(e){return r(t[o][1][e]||e)}),u,u.exports,e,t,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("../modules/game");document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".game-container"),t=new n.default(e);e.getBoundingClientRect().width<600&&t.resize(e.getBoundingClientRect().width)}))},{"../modules/game":3}],2:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("./game"),r=function(){function e(e,t,i){void 0===t&&(t=0),this._x=e,this._y=t,this._hexNum=i,this._isAlive=!0}return e.prototype.draw=function(e,t){if(!1!==this.isAlive){e.fillStyle="limegreen",e.fillRect(this.x,this.y,t,t);var i=(0,n.checkHex)(this.hexNum.first,this.hexNum.second);e.fillStyle="black";var r=t/2;e.font="".concat(r,"px sans-serif");var s=e.measureText(i).width,o=r,c=this.x+(t-s)/2,a=this.y+(t-o)/2+r;e.fillText(i,c,a)}},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hexNum",{get:function(){return this._hexNum},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAlive",{get:function(){return this._isAlive},set:function(e){this._isAlive=e},enumerable:!1,configurable:!0}),e}();i.default=r},{"./game":3}],3:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.hexArr=void 0,i.checkHex=o;var n=e("./enemy"),r=e("./missile-platform");i.hexArr=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"];var s=function(){function e(e){this._gameContainer=e,this._screen=this.createScreen(),this._screenCtx=this._screen.getContext("2d"),this._highScore=this.getHighScore(),this._enemySize=60,this._deadLine=750,this.initScreen(),this.listenToKeyStrokes(),this.listenToTouch(),this.createStartGameButton()}return e.prototype.createScreen=function(){var e=document.createElement("canvas");return e.width=600,e.height=900,this._gameContainer.appendChild(e),e},e.prototype.getHighScore=function(){return parseInt(localStorage.getItem("highScore"))||0},e.prototype.initGame=function(){this._score=0,this._enemies=[],this._missiles=[],this._gameSpeed=.4,this._isGameOver=!1,this._hexCombination={first:0,second:0},this._gameTime=window.performance.now(),this._startGameTime=window.performance.now(),this._increaseGameSpeedTime=0,this._lastEnemySpawnTime=0,this.generateMissiles()},e.prototype.initScreen=function(){this._gameContainer.appendChild(this._screen)},e.prototype.listenToKeyStrokes=function(){var e=this;document.addEventListener("keydown",(function(t){var i=t.key.toLowerCase(),n=e._missiles.find((function(e){return e.keyStroke===i}));n&&(n.isActivated=!n.isActivated,e.updateHexCombination(n.keyStroke,n.isActivated?1:-1))}))},e.prototype.listenToTouch=function(){var e=this,t={start:0,end:0},i={start:0,end:0};this._screen.addEventListener("touchstart",(function(n){var r=e._screen.getBoundingClientRect();t.start=n.touches[0].clientX-r.left,i.start=n.touches[0].clientY-r.top})),this._screen.addEventListener("touchend",(function(n){var r=e._screen.getBoundingClientRect();t.end=n.changedTouches[0].clientX-r.left,i.end=n.changedTouches[0].clientY-r.top;var s=t.start<t.end;e._missiles.filter((function(e){return s?e.x+e.width>=t.start&&e.x<=t.end:e.x<=t.start&&e.x+e.width>=t.end})).forEach((function(t){t.isActivated=!t.isActivated,e.updateHexCombination(t.keyStroke,t.isActivated?1:-1)}))}))},e.prototype.updateHexCombination=function(e,t){var i=new Map([["q",8],["w",4],["e",2],["r",1],["t",8],["y",4],["u",2],["i",1]]).get(e);void 0!==i&&("q"===e||"w"===e||"e"===e||"r"===e?this._hexCombination.first+=i*t:this._hexCombination.second+=i*t)},e.prototype.createRestartButton=function(){var e=this,t=document.createElement("button");t.textContent="Restart Game",t.classList.add("restart-button","button"),t.addEventListener("click",(function(){e.toggleWindowScroll(!(e._screen.width<600)),e.initGame(),e.gameLoop(),t.remove()})),this._gameContainer.appendChild(t)},e.prototype.createStartGameButton=function(){var e=this,t=document.createElement("button");t.textContent="Start Game",t.classList.add("start-button","button"),t.addEventListener("click",(function(){e.toggleWindowScroll(!(e._screen.width<600)),e.initGame(),e.gameLoop(),t.remove()})),this._gameContainer.appendChild(t)},e.prototype.clearScreen=function(){this._screenCtx.clearRect(0,0,this._screen.width,this._screen.height)},e.prototype.gameLoop=function(){if(this.clearScreen(),this._isGameOver)return this.toggleWindowScroll(!0),void this.displayGameOverScreen();this._gameTime=window.performance.now(),this.spawnEnemies(),this.increaseGameSpeedTime(),this.updateGameTime(),this.updateEnemies(),this.updateMissiles(),this.updateScore(),this.updateCurrentHexCombination(),window.requestAnimationFrame(this.gameLoop.bind(this))},e.prototype.spawnEnemies=function(){if(this._gameTime-this._lastEnemySpawnTime>2500){var e=this.generateEnemy();this._enemies.push(e),this._lastEnemySpawnTime=this._gameTime}},e.prototype.increaseGameSpeedTime=function(){this._gameTime-this._increaseGameSpeedTime>15e3&&(this._gameSpeed+=.1,this._increaseGameSpeedTime=this._gameTime)},e.prototype.displayGameOverScreen=function(){this._score>this._highScore&&(this._highScore=this._score,localStorage.setItem("highScore",this._highScore.toString())),this._screenCtx.fillStyle="black",this._screenCtx.font="24px sans-serif",this._screenCtx.fillText("Game Over",220,350),this._screenCtx.fillText("Score: ".concat(this._score),220,400),this._screenCtx.fillText("High Score: ".concat(this._highScore),220,450),this.createRestartButton()},e.prototype.updateGameTime=function(){var e=Math.floor((this._gameTime-this._startGameTime)/1e3);this._screenCtx.fillStyle="darkgreen",this._screenCtx.font="24px sans-serif",this._screenCtx.fillText("Time: ".concat(e),300,830)},e.prototype.updateScore=function(){var e=16,t=24;this._screen.width<600&&(e=10,t=16),this._screenCtx.fillStyle="black",this._screenCtx.font="".concat(e,"px sans-serif"),this._screenCtx.fillText("Game Speed: ".concat(this._gameSpeed.toFixed(1)),50,this._deadLine+70),this._screenCtx.font="".concat(t,"px sans-serif"),this._screenCtx.fillText("Score: ".concat(this._score),50,this._deadLine+100),this._screenCtx.fillText("High Score: ".concat(this._highScore),this._deadLine+50,130)},e.prototype.updateCurrentHexCombination=function(){var e=o(this._hexCombination.first,this._hexCombination.second);this._screenCtx.fillStyle="darkviolet",this._screenCtx.font="24px sans-serif",this._screenCtx.fillText("Current Hex: ".concat(e),300,855)},e.prototype.updateEnemies=function(){var e=this;this._enemies.forEach((function(t){t.draw(e._screenCtx,e._enemySize),t.y+e._enemySize>e._deadLine?e._isGameOver=!0:(e._hexCombination.first===t.hexNum.first&&e._hexCombination.second===t.hexNum.second&&(e._score+=1,t.isAlive=!1,e.resetMissilesActivation()),e._hexCombination.first!==t.hexNum.first&&e._hexCombination.second!==t.hexNum.second||(e._screenCtx.strokeStyle="red",e._screenCtx.lineWidth=2,e._screenCtx.strokeRect(t.x,t.y,e._enemySize,e._enemySize)),e._enemies=e._enemies.filter((function(e){return e.isAlive})),t.y=t.y+e._gameSpeed)}))},e.prototype.resetMissilesActivation=function(){this._missiles.forEach((function(e){e.isActivated=!1})),this._hexCombination={first:0,second:0}},e.prototype.generateEnemy=function(){var e=this.randomXCoord(),t=this.randomHexNum();return new n.default(e,-this._enemySize,t)},e.prototype.generateMissiles=function(){for(var e=this.screenWidth/8,t=["q","w","e","r","t","y","u","i"],i=0;i<8;i++){var n=new r.default("missle-".concat(i),e,50,i*e,this._deadLine,t[i]);this._missiles.push(n)}},e.prototype.updateMissiles=function(){var e=this;this._missiles.forEach((function(t){t.draw(e._screenCtx)}))},e.prototype.randomXCoord=function(){return Math.floor(Math.random()*(this._screen.width-this._enemySize))},e.prototype.randomHexNum=function(){var e=Math.floor(Math.random()*i.hexArr.length),t=Math.floor(Math.random()*i.hexArr.length);return 0===e&&0===t?this.randomHexNum():{first:e,second:t}},e.prototype.resize=function(e){this._screen.width=e,this._screen.height=900*e/600,this._deadLine=750*this._screen.height/900},e.prototype.toggleWindowScroll=function(e){document.body.style.overflow=e?"auto":"hidden"},Object.defineProperty(e.prototype,"enemies",{get:function(){return this._enemies},set:function(e){this._enemies=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"missiles",{get:function(){return this._missiles},set:function(e){this._missiles=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screenWidth",{get:function(){return this._screen.width},enumerable:!1,configurable:!0}),e}();function o(e,t){return"".concat(i.hexArr[e]).concat(i.hexArr[t])}i.default=s},{"./enemy":2,"./missile-platform":4}],4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t,i,n,r,s){this._id=e,this._width=t,this._height=i,this._x=n,this._y=r,this._isActivated=!1,this._keyStroke=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isActivated",{get:function(){return this._isActivated},set:function(e){this._isActivated=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"keyStroke",{get:function(){return this._keyStroke},enumerable:!1,configurable:!0}),e.prototype.draw=function(e){e.fillStyle=this._isActivated?"brown":"gray";var t=this._isActivated?this.y-5:this.y;e.fillRect(this.x,t,this._width,this._height),e.strokeStyle="blue",e.lineWidth=1,e.strokeRect(this.x,t,this._width,this._height),e.fillStyle="black",e.font="30px sans-serif",e.fillText(this.isActivated?"1":"0",this.x+30,t+35)},e}();i.default=n},{}]},{},[1]);
//# sourceMappingURL=main.min.js.map
